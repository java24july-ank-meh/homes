<md-button class="md-fab md-fab-bottom-right" aria-label="FAB" ui-sref="home.createComplex" >
    <ng-md-icon icon="add" class="md-icon"></ng-md-icon>
</md-button>

<md-toolbar ng-show="!showSearch">
    <div class="md-toolbar-tools">
        <md-button ng-click="toggleSidenav('left')" hide-gt-md aria-label="Menu" class="ng-icon-button">
            <ng-md-icon icon="menu"></ng-md-icon>
        </md-button>
        <h3>Complexes</h3>
        <span flex></span>
        <md-button aria-label="Search" ng-click="showSearch = !showSearch" class="ng-icon-button">
            <ng-md-icon icon="search"></ng-md-icon>
        </md-button>
        <md-button aria-label="Open Settings" ng-click="showListBottomSheet($event)" class="ng-icon-button">
            <ng-md-icon icon="more_vert"></ng-md-icon>
        </md-button>
    </div>
</md-toolbar>

<md-toolbar class="md-hue-1" ng-show="showSearch">
    <div class="md-toolbar-tools">
        <md-button ng-click="showSearch = !showSearch" aria-label="Back" class="ng-icon-button">
            <ng-md-icon icon="arrow_back"></ng-md-icon>
        </md-button>
        <h3 flex="10">
            Back
        </h3>
        <md-input-container md-theme="input" flex style="padding-top:28px;">
            <label>&nbsp;</label>
            <input ng-model="search.who" placeholder="enter search">
        </md-input-container>
        <md-button aria-label="Search" ng-click="showSearch = !showSearch" class="ng-icon-button">
            <ng-md-icon icon="search"></ng-md-icon>
        </md-button>
        <md-button aria-label="Open Settings" ng-click="showListBottomSheet($event)" class="ng-icon-button">
            <ng-md-icon icon="more_vert"></ng-md-icon>
        </md-button>
    </div>
</md-toolbar>

<md-content class="md-padding" >
    <div layout layout-wrap layout-sm="column" layout-xs="column" >
        <div layout="row" layout-sm="column" layout-align="space-around" ng-if="!complexes && !error">
        	<md-progress-circular md-mode="indeterminate"></md-progress-circular>
        </div>
        <div layout="row" layout-sm="column" layout-align="space-around" ng-if="error">
             <h2>No Complexes Created Found</h2>
        </div>
            
        <div flex="25" flex-sm="100" flex-xs="100" ng-repeat="complex in complexes" class="container">
            <md-card ui-sref="home.showComplex({complexId: complex.complexId})" >
                <md-card-title>
                    <md-card-title-text  >
                        <span class="md-headline">{{complex.name}}</span>
                    </md-card-title-text>
                </md-card-title>
<!--                 <img ng-src="{{complex.photo}}" class="md-card-image" alt="{{complex.name}} photo not found" > -->
                <div ng-if"complex.photo != '' " style="background-image: url('{{complex.photo}}') !important; background-size: cover !important; min-height:200px; background: #eee;"></div>
                <md-card-content layout-gt-lg="row" layout="column">
                    <md-list class="md-dense">
                        <md-list-item class="md-2-line" >
                            <md-icon> <ng-md-icon icon="phone"></ng-md-icon></md-icon>
                            <div class="md-list-item-text" >
                                <h3> {{complex.phone}}</h3>
                                <p> PHONE</p>
                            </div>
                        </md-list-item>
                        <md-list-item class="md-2-line" >
                            <md-icon> <ng-md-icon icon="mail"></ng-md-icon></md-icon>
                            <div class="md-list-item-text" >
                                <h3>{{complex.email}}</h3>
                                <p> EMAIL</p>
                            </div>
                        </md-list-item>
                        <md-list-item class="md-2-line" >
                            <md-icon> <ng-md-icon icon="place"></ng-md-icon></md-icon>
                            <div class="md-list-item-text" >
                                <h3>{{complex.address}}</h3>
                                <p> ADDRESS</p>
                            </div>
                        </md-list-item>
                        <md-list-item class="md-2-line"  >
                            <md-icon> <ng-md-icon icon="web"></ng-md-icon></md-icon>
                            <div class="md-list-item-text" >
                                <h3 ><a target="_blank" href="{{complex.website}}"> {{complex.website}}</a> </h3>
                                <p> WEBSITE</p>
                            </div>
                        </md-list-item>
                    </md-list>
                </md-card-content>
            </md-card>
        </div>
    </div>


</md-content>